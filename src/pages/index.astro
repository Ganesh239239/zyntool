---
import { getCollection } from 'astro:content';
import MainLayout from '../layouts/MainLayout.astro';

// This grabs all your markdown tools automatically
const tools = await getCollection('tools');
---

<MainLayout title="Home | Every tool you need to edit images">
    <!-- Hero Section -->
    <section class="hero py-5 text-center bg-light">
        <div class="container">
            <h1 class="fw-bold display-4">Every tool you could want to<br> edit images in bulk</h1>
            <p class="lead text-muted">Your online photo editor is here and forever free!</p>
            
            <div class="filter-pills d-flex flex-wrap justify-content-center gap-2 mt-4">
                <button class="btn btn-outline-dark active">All Tools</button>
            </div>
        </div>
    </section>

    <!-- Tools Grid -->
    <section class="tools-section py-5">
        <div class="container">
            <div class="row g-4">
                {tools.map((tool) => (
                    <div class="col-12 col-md-4 col-lg-3">
                        <a href={`/${tool.slug || tool.id}`} class="text-decoration-none">
                            <div class="tool-card p-4 border rounded shadow-sm bg-white h-100">
                                <div class="icon-box mb-3 fs-2" style={`color: ${tool.data.color}`}>
                                    <i class={`fa-solid ${tool.data.icon}`}></i>
                                </div>
                                <h5 class="fw-bold text-dark">{tool.data.title}</h5>
                                <p class="text-muted small">{tool.data.description}</p>
                            </div>
                        </a>
                    </div>
                ))}
            </div>
        </div>
    </section>
</MainLayout>

<style>
    .hero { background-color: #f4f7fa !important; padding: 60px 0; }
    .tool-card { transition: all 0.3s ease; cursor: pointer; border-color: #eee !important; border-top: 4px solid transparent !important; }
    .tool-card:hover { 
        transform: translateY(-5px); 
        border-top-color: var(--primary-blue) !important; 
        box-shadow: 0 10px 20px rgba(0,0,0,0.1) !important; 
    }
    .icon-box { 
        width: 60px; height: 60px; 
        display: flex; align-items: center; justify-content: center; 
        border-radius: 12px; background: #f8f9fa; 
    }
</style>
