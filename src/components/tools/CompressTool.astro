---
const { entry } = Astro.props;
---

<div id="compress-engine">
    <!-- STEP 1: THE BOX FROM YOUR IMAGE -->
    <div id="uploadContainer" class="uploader-box shadow-sm mx-auto" onclick="document.getElementById('fileInput').click()">
        <div class="inner-dashed-border">
            <div class="uploader-content">
                <div class="icon-circle mb-3" style={`background: ${entry.data.color}10; color: ${entry.data.color}`}>
                    <i class={`fa-solid ${entry.data.icon} fa-2x`}></i>
                </div>
                <h2 class="fw-bold h4">Select Images</h2>
                <p class="text-muted small">Compress JPG, PNG, SVG or GIF without losing quality.</p>
            </div>
        </div>
        <input type="file" id="fileInput" hidden accept="image/*" multiple />
    </div>

    <!-- STEP 2: WORKSPACE (Appears after upload) -->
    <div id="processingArea" style="display:none;" class="fade-in">
        <div class="workspace-card card border-0 shadow-sm rounded-4 overflow-hidden">
             <!-- Workspace logic... -->
        </div>
    </div>
</div>

<style>
    /* THE EXACT BOX DESIGN FROM IMAGE */
    .uploader-box {
        background: #ffffff;
        border-radius: 24px;
        padding: 15px; /* Spacing between edge and dashed border */
        cursor: pointer;
        max-width: 850px;
        transition: transform 0.2s ease;
    }
    .uploader-box:hover {
        transform: scale(1.01);
    }
    
    .inner-dashed-border {
        border: 2px dashed #d1d5db; /* Light gray dashed border */
        border-radius: 20px;
        padding: 60px 20px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .uploader-content {
        text-align: center;
    }

    .icon-circle {
        width: 70px; height: 70px;
        margin: 0 auto;
        display: flex; align-items: center; justify-content: center;
        border-radius: 50%;
    }

    h2 { color: #33333b; font-weight: 700; margin-bottom: 5px; }

    .fade-in { animation: fadeIn 0.3s ease-in; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
</style>

<script is:inline>
    // Keep your existing processing logic here
</script>
